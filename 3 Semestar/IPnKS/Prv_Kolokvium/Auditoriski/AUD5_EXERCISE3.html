<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    label {
      width: 100px;
      display: inline-block;
    }

    input[type=button] {
      width: 300px;
    }

    div {
      margin-bottom: 10px;
    }

    table, td, th {
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>


  <script>
    function addRow() {
      let tableRef = document.getElementById('projects').getElementsByTagName('tbody')[0];

      let project = document.getElementById('project');
      let author = document.getElementById('author');
      let cost = document.getElementById('cost');

      //CHECK IF ALL VALUES ARE THERE
      if (project.value == "" || author.value == "" || cost.value == ""){
        alert("All values are not entered.")
        return;
      }

      //INSErT A ROW IN THE TABLE AT THE LAST ROW
      let newRow = tableRef.insertRow(tableRef.rows.length);

      //INSERT A CELL IN THE ROW AT INDEX 0
      let newCell0 = newRow.insertCell(0)
      //INSERT A CELL IN THE ROW AT INDEX 1
      let newCell1 = newRow.insertCell(1)
      //INSERT A CELL IN THE ROW AT INDEX 2
      let newCell2 = newRow.insertCell(2)
      //INSERT A CELL IN THE ROW AT INDEX 3
      let newCell3 = newRow.insertCell(3)

      //OPTION 1: APPEND A TEXT NODE TO THE CELL
      // let newText = document.createTextNode('New Row');
      // newCell0.appendChild(newText);

      //OPTION 2
      newCell0.innerHTML = author.value;
      newCell1.innerHTML = project.value;
      newCell2.innerHTML = cost.value

      //CREATE A <button> ELEMENT
      let btn = document.createElement("BUTTON")
      //CREATE A TEXT NODE
      let t = document.createTextNode("REMOVE")
      btn.appendChild(t) // APPEND THE TEXT TO <button>
      btn.setAttribute('onclick', 'removeRow(this)')
      newCell3.appendChild(btn);
      //ALTERNATIVELY
      //newCell3.innerHTML = "<button onclick="removeRow(this);">
      //Remove </button>

      //RESET FIELDS
      author.value = ""
      project.value = ""
      cost.value = ""
      sumProjects()
    }

    function removeRow(ref){
      //GENERAL IDEA: button -> td -> tr --> tbody.removeChild(tr)
      tr = ref.parentNode.parentNode;
      tr.parentNode.removeChild(tr);
      sumProjects();
    }

    function sumProjects(){
      let costCells = document.getElementsByClassName('cost')
      let sum = 0;
      for(let i = 0; i < costCells.length; i++){
        sum += parseInt(costCells[i].innerHTML);
      }
      document.getElementById('total').innerHTML = sum;
    }
  </script>


  <h2>Projects Details</h2>
</head>
<body>
<div><label>Author</label><input id="author" type="text"></div>
<div><label>Project</label><input id="project" type="text"></div>
<div><label>Cost</label><input id="cost" type="text"></div>
<div><input type="button" name="add" value="ADD" onclick="addRow();"></div>

<h2>Project List - Total cost:<span id="total">0</span></h2>

<table id="projects">
  <thead>
  <th>Author</th>
  <th>Project</th>
  <th colspan="2">Cost</th>
  </thead>
  <tbody>
  </tbody>
</table>
</body>
</html>